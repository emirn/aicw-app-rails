---
import { getCategoryUrl } from '../lib/categories';
import type { SiteConfig } from '../lib/config';

interface Props {
  category: string;
  config?: SiteConfig;
  size?: 'sm' | 'md';
  linked?: boolean;
}

const { category, config, size = 'sm', linked = true } = Astro.props;
const url = config ? getCategoryUrl(category, config) : getCategoryUrl(category);

const sizeClasses = {
  sm: 'px-2 py-0.5 text-xs',
  md: 'px-3 py-1 text-sm',
};
---

{linked ? (
  <a
    href={url}
    class:list={[
      'inline-flex items-center font-medium rounded-full transition-colors',
      'bg-[var(--color-primary)]/10 text-[var(--color-primary)]',
      'hover:bg-[var(--color-primary)]/20',
      sizeClasses[size],
    ]}
  >
    {category}
  </a>
) : (
  <span
    class:list={[
      'inline-flex items-center font-medium rounded-full',
      'bg-[var(--color-primary)]/10 text-[var(--color-primary)]',
      sizeClasses[size],
    ]}
  >
    {category}
  </span>
)}
